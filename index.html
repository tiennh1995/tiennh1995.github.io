<!DOCTYPE html>
<html>
<body>
	<h1>Dictionary Project</h1>
	<a class="button" href="/click">click</a>

	<p id="content"></p>
</body>

<script type="text/javascript">
	document.addEventListener('DOMContentLoaded', function(event) {
		if ('serviceWorker' in navigator) {
	  		navigator.serviceWorker.register('/service-worker.js').then(function(registration) {
	    		console.log('Registration successful, scope is:', registration.scope);
	  		}).catch(function(error) {
	    		console.log('Service worker registration failed, error:', error);
	  		});
		} 
	})

	document.querySelector('.button').addEventListener('click', function(event) {
		event.preventDefault();
		fetch(e.target.href)
		  .then(function(response) {
			document.getElementById('content').innerHTML = data['age'];

		  });
	});	

	self.addEventListener('fetch', function(event) {
	  	event.respondWith(
	  		caches.open('pages-cache-v1').then(function(cache) {
	      		return cache.match(event.request).then(function (response) {
	        		return response || fetch(event.request).then(function(response) {
	          			cache.put(event.request, response.clone());
	          			return response;
	        		});
	      		});
	    	})
	  	);
	});
</script>
</html>
